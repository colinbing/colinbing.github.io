/* ========= TOKENS ========= */
:root{
  /* base */
  --bg:#ffffff;
  --text:#202020;
  --text-strong:#111111;
  --muted:#667085;
  --link:#1a73e8;

  /* surfaces */
  --surface:#ffffff;             /* cards */
  --surface-2:#ececec;           /* light panels */
  --border:rgba(0,0,0,.10);
  --logoBg:#f7f7f7;

  /* section accents (keep your alternation) */
  --sec-dark:#222222;
  --sec-gray:#444444;
  --sec-blue:#007acc;

  /* effects */
  --ringOpacity:.12;
}

[data-theme="dark"]{
  --bg:#222222;
  --text:#e9edf5;
  --text-strong:#ffffff;
  --muted:#b9c2d3;
  --link:#cbd5ff;

  --surface:#2a2f3a;
  --surface-2:#444444;
  --border:rgba(255,255,255,.16);
  --logoBg:#1f2330;

  --ringOpacity:.22;
}

/* ========= RESETS / GLOBAL ========= */
*{ box-sizing:border-box;
   font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif }

html{ scroll-behavior:smooth }
html,body{ overflow-x:hidden }
body{ position:relative; background:var(--bg); color:var(--text) }

h1,h2,h3,h4,h5,h6{ color:var(--text-strong); margin-top:0 }
h2{ font-size:46px; padding:20px 0 30px }
p,li{ font-size:.9rem; color:var(--text) }

.container-fluid{ padding-left:0; padding-right:0 }
.row{ padding-left:15px; padding-right:15px }

/* ========= NAV ========= */
.navbar img{ height:24px; width:24px }
.nav-item.active > a.nav-link{ font-variation-settings:'wght' 700; color:rgba(255,255,255,1) }
#navbar9 > ul > li.nav-item > a{ font-weight:400; transition:color .3s ease; color:rgba(255,255,255,1) }
#navbar9 > ul > li.nav-item > a.nav-link{ display:block }
#navbar9 > ul > li.nav-item > a:hover{ color:rgba(255,255,255,.8) }

.nav-item.dropdown{ position:relative }
.nav-item.dropdown .dropdown-menu{
  position:absolute; top:100%; left:0; min-width:220px; margin:0; padding:0;
  border-radius:.25rem; background-color:#343a40; z-index:1100;
  display:block; visibility:hidden; opacity:0; pointer-events:none; transition:opacity .12s ease
}
.nav-item.dropdown:hover .dropdown-menu{ visibility:visible; opacity:1; pointer-events:auto }
.dropdown-item{ color:#fff; padding:10px 15px; display:block; text-decoration:none }
.dropdown-item:hover{ background-color:#495057; color:#fff }

/* ========= INTRO / GENERAL ========= */
#intro-section .row{ border-radius:20px; padding:20px 10px;margin: 0 auto;}
.intro-section{ padding-bottom:40px }
.experience-section hr{ max-width:80% }

#footer .copyright{ padding:12px 0 1px }
#footer .copyright p{ color:#fff }

/* names and headings */
.name{ margin:0 }
.title{ color:#fff; padding:5px 0; margin:0 }

/* images */
.selfie{ padding:30px 0; user-select:none; max-height:300px; border-radius:50% }
.skill-img{ max-width:100px; height:auto; padding:10px 0 20px }

/* skills */
.skills-section{ padding-bottom:20px; background-color:#fafafa; }
.skills-section p{ line-height:1.4em }
.skills-section h3{ margin-bottom:20px; border-bottom:1px #333 }

/* cards in skills matrix */
#skills-section{ padding:40px 16px }
#skills-section .skills-wrap{
  max-width:clamp(960px,92vw,1120px);
  margin:0 auto;
  display:grid;          /* adds spacing between the top card and the 2-card grid */
  gap:24px;              /* single source of vertical spacing */
}

#skills-section h2{text-align:center;}
#skills-section .rowgrid{ display:grid; grid-template-columns:1fr; gap:24px }
@media (min-width:1100px){ #skills-section .rowgrid{ grid-template-columns:1fr 1fr } }


#skills-section .rowcard{
  background:#fff; color:#1e2430; border-radius:16px; padding:16px 14px;
  box-shadow:0 8px 24px rgba(0,0,0,.12); margin:0;
}
#skills-section .rowhead{ font-weight:700; font-size:18px; margin:0 0 8px }

/* groups + chips */
#skills-section .group{ display:flex; flex-wrap:wrap; align-items:center; gap:8px; margin:6px 0 }
#skills-section .glabel{
  font-size:11px; font-weight:700; text-transform:uppercase; letter-spacing:.06em;
  color:#556074; background:#eff3f7; border-radius:6px; padding:3px 8px; flex:0 0 auto
}
#skills-section .chips{ display:flex; flex-wrap:wrap; gap:8px }
#skills-section .chip{ position:relative; padding:6px 10px; border-radius:999px; font-weight:600; font-size:.88rem; white-space:nowrap; border:1px solid transparent }
#skills-section .chip--pink{ background:#eeb1c3;border-color:#e19ab0;color:#553043 }
#skills-section .chip--gold{ background:#f6d28a;border-color:#edc46c;color:#4a3b18 }
#skills-section .chip--violet{ background:#c9b4f0;border-color:#b69ae8;color:#3b2e57 }
#skills-section .chip--blue{ background:#b9d3ff;border-color:#9cbcf7;color:#20375d }
#skills-section .chip--gray{ background:#e9edf3;border-color:#d6dbe4;color:#2b3442 }
#skills-section .badge-sme{
  display:inline-block; margin-left:8px; padding:2px 6px; font-size:.72em; font-weight:700;
  border-radius:999px; background:rgba(80,140,255,.18); border:1px solid rgba(80,140,255,.35); color:#1e3a8a; vertical-align:middle
}

/* tooltips */
/* ===== Tooltips ===== */

/* base: centered above chip */
#skills-section .chip[data-tip]::after{
  content:attr(data-tip);
  position:absolute;
  left:50%; bottom:calc(100% + 10px);
  transform:translate(-50%, 6px);
  box-sizing:border-box;
  display:inline-block; 
  width:max-content; max-width:44ch;
  white-space:normal; word-break:normal; overflow-wrap:break-word; text-wrap:auto;
  background:rgba(25,30,45,.96); color:#eaf0ff;
  padding:8px 10px; border-radius:8px; border:1px solid rgba(255,255,255,.15);
  line-height:1.35; box-shadow:0 10px 24px rgba(0,0,0,.25);
  opacity:0; visibility:hidden; transition:opacity .15s ease, transform .15s ease;
  z-index:50; pointer-events:none;
}
#skills-section .chip[data-tip]::before{
  content:""; position:absolute; left:50%; bottom:100%;
  transform:translateX(-50%);
  border:6px solid transparent; border-top:none; border-bottom-color:rgba(25,30,45,.96);
  opacity:0; transition:opacity .15s ease; z-index:49; pointer-events:none;
}

/* show state (centered) */
#skills-section .chip[data-tip]:hover::after,
#skills-section .chip[data-tip]:focus-visible::after{ opacity:1; visibility:visible; transform:translate(-50%, 0) }
#skills-section .chip[data-tip]:hover::before,
#skills-section .chip[data-tip]:focus-visible::before{ opacity:1 }

/* snap left/right for wide screens */
#skills-section .chip.tip-left[data-tip]::after{ left:0; right:auto; transform:translateY(6px); max-width:min(44ch, calc(100vw - 24px))
 }
#skills-section .chip.tip-left[data-tip]::before{ left:12px; right:auto; transform:none }
#skills-section .chip.tip-right[data-tip]::after{ left:auto; right:0; transform:translateY(6px); max-width:min(44ch, calc(100vw - 24px))
 }
#skills-section .chip.tip-right[data-tip]::before{ left:auto; right:12px; transform:none }
/* show when snapped */
#skills-section .chip.tip-left[data-tip]:hover::after,
#skills-section .chip.tip-left[data-tip]:focus-visible::after,
#skills-section .chip.tip-right[data-tip]:hover::after,
#skills-section .chip.tip-right[data-tip]:focus-visible::after{ transform:translateY(0) }

/* mobile â‰¤700px: center + clamp to viewport; arrow stays centered on chip */
@media (max-width:700px){
  #skills-section .chip[data-tip]::after{
    left:50%; right:auto; bottom:calc(100% + 10px);
    transform: translate(calc(-50% + var(--tip-shift, 0px)), 6px);
    max-width: calc(100vw - 20px);   /* viewport minus 20px total */
  }
  #skills-section .chip[data-tip]:hover::after,
  #skills-section .chip[data-tip]:focus-visible::after{
    transform: translate(calc(-50% + var(--tip-shift, 0px)), 0);
  }
  #skills-section .chip[data-tip]::before{
    left:50%; right:auto; transform: translateX(-50%);
  }
  /* ignore snap classes on mobile; still use the same shift */
  #skills-section .chip.tip-left[data-tip]::after,
  #skills-section .chip.tip-right[data-tip]::after{
    left:50%; right:auto;
    transform: translate(calc(-50% + var(--tip-shift, 0px)), 6px);
    max-width: calc(100vw - 20px);
  }
  #skills-section .chip.tip-left[data-tip]::before,
  #skills-section .chip.tip-right[data-tip]::before{
    left:50%; right:auto; transform: translateX(-50%);
  }
}


/* ========= CERTIFICATIONS (new) ========= */
.certification-section{ background:var(--surface-2); padding:36px 0 36px }
.cert-wrap{ max-width:1120px; margin:0 auto; padding:0 20px }
.cert-title{ text-align:center;}

.cert-grid{ list-style:none; margin:0; padding:0; display:grid; gap:16px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)) }

.cert-card{
  position:relative; border-radius:16px; overflow:hidden; background:var(--surface); border:1px solid var(--border);
  transform:translateZ(0); transition:transform .18s ease, border-color .18s ease
}
.cert-card:hover{ transform:translateY(-1px) }
.cert-card::before{
  content:""; position:absolute; inset:-1px; border-radius:16px; padding:1px;
  background:conic-gradient(from 180deg,#ff6a00,#ffd400,#1a73e8,#34a853,#ff6a00);
  -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude; opacity:var(--ringOpacity); transition:opacity .18s ease
}
.cert-link{ display:block; height:100%; text-decoration:none!important; color:inherit; outline:none }
.cert-link:focus-visible{ outline:3px solid var(--link); outline-offset:3px; border-radius:14px }
.cert-link:hover .cert-cta {
  text-decoration: underline!important; /* only underline the "View credential" text */
}

.cert-figure{ display:flex; align-items:center; gap:14px; padding:16px }
.cert-avatar{ width:72px; height:72px; display:block; border-radius:9999px; overflow:hidden; background:var(--logoBg); box-shadow:inset 0 0 0 1px var(--border) }
.cert-logo{ width:100%; height:100%; padding:6px; object-fit:contain; display:block }
.cert-meta{ display:flex; flex-direction:column }
.cert-name{ font-size:18px; line-height:1.2; margin:0 0 4px; color:var(--text-strong) }
.cert-issuer{ margin:0; font-size:14px; color:var(--muted) }
.cert-cta{ margin-top:8px; font-weight:600; font-size:14px; color:var(--link) }
.cert-link:hover .cert-cta,
.cert-link:focus .cert-cta{ text-decoration:none; }
.cert-link:hover .cert-name,
.cert-link:hover .cert-issuer{ text-decoration:none }

.cert-placeholder{ border:2px dashed var(--border); background:linear-gradient(180deg,rgba(255,255,255,.6),rgba(255,255,255,.9)); display:flex; align-items:center; justify-content:center }
.placeholder-inner{ padding:22px 14px; font-weight:600; color:var(--muted) }

/* ========= PROJECTS / CAROUSEL ========= */
.project-section{ background-color:#fafafa; color:black; padding-bottom:40px }
.project-section:has(.graphic-design){ background-color:#F9F1F0 }

.project-2 hr{ border-top:1px solid #fff }

/* ========= EXPERIENCE / LOGOS ========= */
.pt-logo,.tecore-logo,.wapo-logo,.ncontext-logo,.experience-section>div{ margin-bottom:20px }
.tecore-logo,.pt-logo{ padding-bottom:10px }
.logo-box{ height:140px; display:flex; align-items:center; justify-content:center }
.logo-box img{ max-width:220px; max-height:100px; height:auto }

/* ========= SOCIAL ========= */
.spotify{ margin-bottom:20px }
.social-link img{ height:40px; padding:0 10px }

/* ========= CERT LIST (legacy links) ========= */
.cert-row{ text-align:center !important }
.cert-row a{ text-decoration:none; color:#212529 }
.cert-row a:hover{ font-weight:600 }

/* ========= FOOTER ========= */
#footer .justify-content-center{ padding-bottom:40px }
footer .row{ left:0; right:0 }

/* ========= MEDIA QUERIES ========= */
@media (min-width:845px){
  .cert-row{ text-align:left !important }
  .towson-row{ text-align:right !important }
}
@media screen and (max-width:845px){
  section h3{ text-align:center; padding:30px 0 10px }
  .project-section .col-md-6 hr{ display:none }
  .skills-section hr,.project-section hr,.experience-section hr{ max-width:500px }
}

@media screen and (min-width:992px){
  .custom-switch{ padding-left:3rem }
  .row{ padding-left:5%; padding-right:5% }
  #navbar .container-fluid{ padding-left:5%; padding-right:5% }
}
@media screen and (min-width:1400px){
  .row{ padding-left:10%; padding-right:10% }
  #navbar .container-fluid{ padding-left:10%; padding-right:10% }
}
@media screen and (max-width:600px){
  .certification-section div{ padding-left:20px; padding-right:20px }
}
@media (max-width:767px){
  section{ padding-top:10px }
  .row{ padding-top:0 !important }
}

@media (min-width:845px){
  #intro-section .row{ border-radius:20px; padding:20px 50px;max-width: 1320px;margin: 0 auto;}
}

/* ========= THEME-SPECIFIC SECTIONS ========= */
/* Use your alternation only in dark theme as before */
[data-theme="dark"] .skills-section{ background-color:var(--sec-blue) !important }
[data-theme="dark"] .project-section{ background-color:var(--sec-gray) }
[data-theme="dark"] .project-section:has(.graphic-design){ background-color:var(--sec-blue) !important }

/* logo swaps in dark */
[data-theme="dark"] .wapo-logo{ content:url('/images/icons/wapo-logo-white.png') }
[data-theme="dark"] .ncontext-logo{ content:url('/images/icons/nContext-white.png') }
[data-theme="dark"] .tecore-logo{ content:url('/images/icons/tecore-logo-white.png') }
[data-theme="dark"] .pt-logo{ content:url('/images/icons/pt-logo-white.png') }
[data-theme="dark"] .apple-logo{ content:url('/appledemo/images/logo-white.png'); height:auto }
[data-theme="dark"] .towson-logo{ content:url('/images/logos/towson-white.png'); height:auto }
[data-theme="dark"] .tagsafe-logo{ content:url('/images/logos/tagsafe-logo-white.PNG'); height:auto }
[data-theme="dark"] .outline-logo{ content:url('/images/logos/outline-white.PNG'); height:auto }
[data-theme="dark"] .blocklist-logo{ content:url('/images/logos/blocklist-logo-white.png'); height:auto }

/* generic dark helpers */
[data-theme="dark"] .bg-light{ background-color:#333 !important }
[data-theme="dark"] .bg-white{ background-color:#222 !important }
[data-theme="dark"] .bg-black{ background-color:#eee !important }
[data-theme="dark"] hr{ background-color:#eee !important }

/* ========= MISC ========= */
.section{ padding-top:40px }
.towson-row{ text-align:center; padding-top:10px; padding-bottom:20px !important }
.name,.title,.skill-card h3,.skill-card p{ color:#fff }
.skill-card{
  box-sizing:border-box; padding:20px; margin:0 0 20px; border-radius:10px; color:#fff !important; max-width:90vw
}
.skill-card-1{ background-color:#ff9296 }
.skill-card-2{ background-color:#3149B2 }
.skill-card-3{ background-color:#2A3442 }

.stars{ padding:2px 2px 8px 2px }
.ti-cursor{ font-size:1.5rem; margin-left:.2em; vertical-align:.05em; animation:blink 1s step-start infinite }
#myTyper{ font-size:26px }

/* ========= LIGHT/DARK SECTION OVERRIDES YOU REQUESTED ========= */
/* If you ever want entire sections to take your three anchors in LIGHT mode too, uncomment as needed:
.skills-section{ background:var(--sec-blue) }
.some-dark-section{ background:var(--sec-dark) }
.some-gray-section{ background:var(--sec-gray) }
*/
/* --- Back-compat: constrain logos even without the wrapper --- */
.cert-figure > img.cert-logo{
  width:72px; height:72px; padding:6px;
  border-radius:9999px; background:var(--logoBg);
  box-shadow:inset 0 0 0 1px var(--border);
  object-fit:contain; display:block;
}

/* --- spacing scale + navbar height --- */
:root{ --nav-h: 64px }             /* adjust if your navbar is taller */

/* --- fix intro spacing under navbar + anchor offset --- */
.intro-section{ padding-top: calc(var(--nav-h)) }  /* more space above */
#intro-section{ scroll-margin-top: calc(var(--nav-h) + 8px) }

/* fallback if some browsers ignore grid gap */
@supports not (gap: 1rem){
  #skills-section .rowcard + .rowcard{ margin-top:28px }
}

/* --- certify avatars: constrain either with or without wrapper --- */
.cert-figure > img.cert-logo{
  width:72px; height:72px; padding:6px; display:block;
  border-radius:9999px; background:var(--logoBg);
  box-shadow:inset 0 0 0 1px var(--border); object-fit:contain;
}

.cert-card{ position:relative; isolation:isolate; } /* new stacking context */
.cert-card::before{ pointer-events:none; z-index:0; }
.cert-link{ position:relative; z-index:1; pointer-events:auto; display:block; text-decoration:none;}


/* === Infinite Carousel (ix-) === */
.ix-carousel{--per-view:1; --gap:0; position:relative; width:100%; overflow:hidden; user-select:none}
@media (min-width:480px){ .ix-carousel{--per-view:2} }
@media (min-width:768px){ .ix-carousel{--per-view:3} }
@media (min-width:1100px){ .ix-carousel{--per-view:4} }
.ix-viewport{overflow:hidden}
.ix-track{display:flex; gap:var(--gap); will-change:transform; transition:transform 450ms ease; touch-action:pan-y; margin:0; padding:0; list-style:none}
.ix-slide{flex:0 0 calc((100% - (var(--gap)*(var(--per-view)-1))) / var(--per-view)); contain:content}
.ix-slide img{width:100%; height:auto; display:block; aspect-ratio:1/1; object-fit:cover}
.ix-slide[aria-hidden="true"]{visibility:hidden}
.ix-btn{position:absolute; top:50%; translate:0 -50%; z-index:2; border:0; padding:.5rem .7rem; cursor:pointer; background:rgba(0,0,0,.5); color:#fff; border-radius:.5rem}
.ix-prev{left:.5rem} .ix-next{right:.5rem}
.ix-btn:focus-visible{outline:2px solid #fff; outline-offset:2px}
@media (prefers-reduced-motion:reduce){ .ix-track{transition:none} }

#footer-carousel .ix-track{display:flex!important}
#footer-carousel .ix-slide{flex:0 0 33.333%!important}
#footer-carousel .ix-slide img{display:block;width:100%;height:auto}


#contact-section{ margin-bottom:30px; }

section {
  padding-top: 20px;
}

#project-section:target, #skills-section:target, #certification-section:target, #experience-section:target {
    padding-top: 100px; /* Matches navbar height */
    margin-top: -100px; /* Counteracts the padding to avoid shifting content */
}

/* ===== Experience: canonical styles ===== */

/* employer column */
.experience-section .employer{ align-items:stretch; margin-bottom:2rem; }
.experience-section .employer-header{ padding-bottom:.5rem; text-align:center; }
.experience-section .employer-logo{ width:130px; height:auto; display:inline-block; }
.experience-section .employer-dates{ color:#6b7280; }
.experience-section hr{ margin:2rem 0; }

/* stacked roles */
.role-stack{ display:flex; flex-direction:column; gap:1.25rem; }

/* role block with exact-height vertical rule */
.role{
  position:relative;
  display:flow-root;          /* prevents margin collapse */
  padding-left:.9rem;         /* space between rule and content */
  padding-block:.2rem;        /* small top/bottom breathing room */
}
.role::before{
  content:"";
  position:absolute;
  left:0; top:3px; bottom:18px;    /* match block height exactly */
  width:2px; background:#e5e7eb; border-radius:2px;
}

/* headers and lists */
.role-header{ display:flex; flex-wrap:wrap; align-items:baseline; gap:.5rem .75rem; margin:0 0 .7rem; }
.role-title{ margin:0; font-weight:600; }
.role-dates{ color:#6b7280; font-size:.95rem; }
.role-list{ margin:0; padding-left:1.1rem; }
.role-list>li{ margin:0 0 .4rem; }
.role-list>li:last-child{ margin-bottom:0; }

/* single-role employers: hide duplicate dates in header */
.employer.single-role .role-dates{ display:none; }

/* ===== Mobile ===== */
@media (max-width:767.98px){
  .experience-section .employer-header{ margin-bottom:1rem; }

  /* remove left rule on mobile; avoid double lines with <hr> */
  .role{ padding-left:0; }
  .role::before{ display:none; }

  /* add a thin separator only between stacked roles */
  .role + .role{ position:relative; padding-top:.75rem; }
  .role + .role::before{
    content:""; display:block;
    position:absolute; left:0; right:0; top:0; height:2px;
    background:#e5e7eb; border-radius:2px;
  }

  .role-dates{ font-size:.9rem; display:inline; }
}

/* Move rule closer to company, add more gap before bullets */
:root{
  --role-gap: 1.25rem;        /* space between rule and bullets */
  --role-rule-shift: -10px;   /* push rule left toward company */
}
.role{ padding-left: var(--role-gap); }
.role::before{ left: var(--role-rule-shift); }

/* Slightly stronger shift on wide screens (optional) */
@media (min-width:1200px){
  :root{ --role-gap: 1.35rem; --role-rule-shift: -12px; }
}

/* Center the role header on mobile; keep bullets left-aligned */
@media (max-width:767.98px){
  .role-header{
    justify-content: center;
    text-align: center;
  }
  .role-title{ width:100%; }          /* title on its own centered line */
  .role-dates{ margin:0 auto; }       /* dates centered next to/under title */
  /* bullets stay left by default */
}

/* Desktop/tablet only: keep the rule closer to the company */
@media (min-width: 768px){
  .role{ padding-left: 1.25rem; }   /* gap before bullets */
  .role::before{ left: -10px; }     /* shift rule toward company */
}

/* Mobile fix: restore left-aligned bullets and avoid double bars */
@media (max-width: 767.98px){
  .role{ padding-left: 0 !important; }        /* remove indent */
  .role::before{ display: none !important; }  /* no left rule */
  .role + .role{ position: relative; padding-top: .75rem; }
  .role + .role::before{
    content: ""; position: absolute; left: 0; right: 0; top: 0; height: 2px;
    background: #e5e7eb; border-radius: 2px;
  }

  /* center only the header */
  .role-header{ justify-content: center; text-align: center; }
  .role-title{ width: 100%; }
  .role-dates{ margin: 0 auto; }
}
