<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Video Compressor</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>Video Compressor</h1>
  <input type="file" id="fileInput" accept="video/*" />
  <video id="videoPlayer" controls style="max-width: 100%; margin-top: 1rem;"></video>
  <pre id="fileInfo" style="margin-top: 1rem;"></pre>

  <!-- Load FFmpeg UMD script locally -->
  <script src="ffmpeg.umd.js"></script>

  <!-- Dynamically load main.js once FFmpeg is available -->
  <script>
    window.addEventListener('load', () => {
      const check = () => {
        if (window.FFmpeg) {
          console.log("✅ window.FFmpeg available—loading main.js");
          const script = document.createElement('script');
          script.src = 'main.js';
          document.body.appendChild(script);
        } else {
          console.log("⏳ Waiting for FFmpeg...");
          setTimeout(check, 100);
        }
      };
      check();
    });
  </script>
</body>
</html>
